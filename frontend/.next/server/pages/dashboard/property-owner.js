(()=>{var e={};e.id=362,e.ids=[362,888,660],e.modules={9398:e=>{e.exports={dashboard:"Dashboard_dashboard__BvGi5",sidebar:"Dashboard_sidebar__XKqWF",main:"Dashboard_main__aJkg_",profile:"Dashboard_profile__6UOpc",profileImage:"Dashboard_profileImage__Ipg7F",nav:"Dashboard_nav__b2TcX",navButton:"Dashboard_navButton__5u91a",active:"Dashboard_active__9N81C",statsGrid:"Dashboard_statsGrid__M2NKc",statCard:"Dashboard_statCard__iSr46",statNumber:"Dashboard_statNumber__lMG9d",recentActivity:"Dashboard_recentActivity__ATjUI",activityItem:"Dashboard_activityItem__kKNPb",activityInfo:"Dashboard_activityInfo__UozIk",activityStatus:"Dashboard_activityStatus__BZsfu",propertyGrid:"Dashboard_propertyGrid__8SxoL",propertyCard:"Dashboard_propertyCard__J9Fje",propertyImage:"Dashboard_propertyImage__vLk_b",propertyInfo:"Dashboard_propertyInfo___DBpT",propertyStats:"Dashboard_propertyStats__bGRxt",propertyPricing:"Dashboard_propertyPricing__ZAYNF",bookButton:"Dashboard_bookButton___UDD0",addButton:"Dashboard_addButton__YxOdt",bookingsList:"Dashboard_bookingsList__29OPb",bookingCard:"Dashboard_bookingCard__HSH7I",bookingHeader:"Dashboard_bookingHeader__t70uX",bookingDetails:"Dashboard_bookingDetails__Bk7GH",bookingActions:"Dashboard_bookingActions__iuLEp",approveButton:"Dashboard_approveButton___MLaO",extendButton:"Dashboard_extendButton__wC0Ue",rejectButton:"Dashboard_rejectButton__lNPQG",cancelButton:"Dashboard_cancelButton__kd1rS",pending:"Dashboard_pending__QSvzH",completed:"Dashboard_completed__j5Ywb",cancelled:"Dashboard_cancelled__f4Sl_",vehicleInfo:"Dashboard_vehicleInfo__jGWr4",vehicleDetails:"Dashboard_vehicleDetails__ZQqCZ"}},1447:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>v,default:()=>p,getServerSideProps:()=>b,getStaticPaths:()=>_,getStaticProps:()=>u,reportWebVitals:()=>x,routeModule:()=>N,unstable_getServerProps:()=>D,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>g,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>m});var r=s(7093),i=s(5244),o=s(1323),c=s(5388),n=s.n(c),d=s(2166),l=s(1627),h=e([d,l]);[d,l]=h.then?(await h)():h;let p=(0,o.l)(l,"default"),u=(0,o.l)(l,"getStaticProps"),_=(0,o.l)(l,"getStaticPaths"),b=(0,o.l)(l,"getServerSideProps"),v=(0,o.l)(l,"config"),x=(0,o.l)(l,"reportWebVitals"),m=(0,o.l)(l,"unstable_getStaticProps"),j=(0,o.l)(l,"unstable_getStaticPaths"),g=(0,o.l)(l,"unstable_getStaticParams"),D=(0,o.l)(l,"unstable_getServerProps"),y=(0,o.l)(l,"unstable_getServerSideProps"),N=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/dashboard/property-owner",pathname:"/dashboard/property-owner",bundlePath:"",filename:""},components:{App:d.default,Document:n()},userland:l});a()}catch(e){a(e)}})},11:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{H:()=>p,a:()=>h});var r=s(997),i=s(6689),o=s(648),c=s(401),n=s(1492),d=e([o,c,n]);[o,c,n]=d.then?(await d)():d;let l=(0,i.createContext)({}),h=()=>(0,i.useContext)(l),p=({children:e})=>{let[t,s]=(0,i.useState)(null),[a,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=(0,c.onAuthStateChanged)(o.I,async e=>{if(e){let t=(0,n.doc)(o.db,"users",e.uid),a=await (0,n.getDoc)(t);a.exists()?s({...e,...a.data()}):s(e)}else s(null);d(!1)});return()=>e()},[]),r.jsx(l.Provider,{value:{user:t,loading:a},children:!a&&e})};a()}catch(e){a(e)}})},648:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{I:()=>l,db:()=>h});var r=s(3745),i=s(401),o=s(1492),c=s(3392),n=e([r,i,o,c]);[r,i,o,c]=n.then?(await n)():n;let d=(0,r.initializeApp)({apiKey:"AIzaSyDHHi91_Y4X6VdqVlFoM-VFY2Gd8GIBr7M",authDomain:"trucknest-877c5.firebaseapp.com",projectId:"trucknest-877c5",storageBucket:"trucknest-877c5.firebasestorage.app",messagingSenderId:"594616293335",appId:"1:594616293335:web:ff9cf5ad981bb26f909d92"}),l=(0,i.getAuth)(d),h=(0,o.getFirestore)(d);(0,c.getStorage)(d),a()}catch(e){a(e)}})},6973:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{et:()=>c});var r=s(648),i=s(1492),o=e([r,i]);[r,i]=o.then?(await o)():o;let n={USERS:"users",PROPERTY_OWNERS:"property_owners",TRUCKERS:"truckers"};async function c(e){try{let t=await (0,i.getDoc)((0,i.doc)(r.db,n.USERS,e));if(!t.exists())throw Error("User not found");let s=t.data(),a={};if("property-owner"===s.role){let t=await (0,i.getDoc)((0,i.doc)(r.db,n.PROPERTY_OWNERS,e));t.exists()&&(a=t.data())}else if("trucker"===s.role){let t=await (0,i.getDoc)((0,i.doc)(r.db,n.TRUCKERS,e));t.exists()&&(a=t.data())}return{...s,profile:a}}catch(e){throw console.error("Error getting user profile:",e),e}}a()}catch(e){a(e)}})},2166:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>c});var r=s(997),i=s(11);s(6764);var o=e([i]);i=(o.then?(await o)():o)[0];let c=function({Component:e,pageProps:t}){return r.jsx(i.H,{children:r.jsx(e,{...t})})};a()}catch(e){a(e)}})},1627:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>p});var r=s(997),i=s(6689),o=s(1163),c=s(11),n=s(6973),d=s(9398),l=s.n(d),h=e([c,n]);function p(){let e=(0,o.useRouter)(),{user:t,loading:s}=(0,c.a)(),[a,d]=(0,i.useState)(null),[h,p]=(0,i.useState)([]),[u,_]=(0,i.useState)([]),[b,v]=(0,i.useState)("overview");(0,i.useEffect)(()=>{s||t?t&&x():e.push("/")},[t,s]);let x=async()=>{try{let e=await (0,n.et)(t.uid);d(e)}catch(e){console.error("Error loading user data:",e)}};return s||!a?r.jsx("div",{children:"Loading..."}):(0,r.jsxs)("div",{className:l().dashboard,children:[(0,r.jsxs)("aside",{className:l().sidebar,children:[(0,r.jsxs)("div",{className:l().profile,children:[r.jsx("div",{className:l().profileImage,children:r.jsx("img",{src:t.photoURL||"/placeholder-avatar.jpg",alt:a.businessName})}),r.jsx("h2",{children:a.businessName}),r.jsx("p",{children:a.email})]}),(0,r.jsxs)("nav",{className:l().nav,children:[r.jsx("button",{className:`${l().navButton} ${"overview"===b?l().active:""}`,onClick:()=>v("overview"),children:"Overview"}),r.jsx("button",{className:`${l().navButton} ${"properties"===b?l().active:""}`,onClick:()=>v("properties"),children:"Properties"}),r.jsx("button",{className:`${l().navButton} ${"bookings"===b?l().active:""}`,onClick:()=>v("bookings"),children:"Bookings"})]})]}),(0,r.jsxs)("main",{className:l().main,children:["overview"===b&&(0,r.jsxs)("div",{className:l().overview,children:[(0,r.jsxs)("div",{className:l().statsGrid,children:[(0,r.jsxs)("div",{className:l().statCard,children:[r.jsx("h3",{children:"Active Properties"}),r.jsx("p",{className:l().statNumber,children:h.length})]}),(0,r.jsxs)("div",{className:l().statCard,children:[r.jsx("h3",{children:"Active Bookings"}),r.jsx("p",{className:l().statNumber,children:u.filter(e=>"active"===e.status).length})]}),(0,r.jsxs)("div",{className:l().statCard,children:[r.jsx("h3",{children:"Total Revenue"}),(0,r.jsxs)("p",{className:l().statNumber,children:["$",u.reduce((e,t)=>e+(t.totalAmount||0),0)]})]}),(0,r.jsxs)("div",{className:l().statCard,children:[r.jsx("h3",{children:"Verification Status"}),r.jsx("p",{className:l().statNumber,children:a?.verificationStatus||"Pending"})]})]}),(0,r.jsxs)("div",{className:l().recentActivity,children:[r.jsx("h2",{children:"Recent Activity"}),u.slice(0,5).map(e=>(0,r.jsxs)("div",{className:l().activityItem,children:[(0,r.jsxs)("div",{className:l().activityInfo,children:[r.jsx("h4",{children:e.truckerName}),r.jsx("p",{children:new Date(e.startDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:l().activityStatus,children:[r.jsx("span",{className:l()[e.status],children:e.status}),(0,r.jsxs)("p",{children:["$",e.totalAmount]})]})]},e.id))]})]}),"properties"===b&&(0,r.jsxs)("div",{className:l().properties,children:[(0,r.jsxs)("div",{className:l().header,children:[r.jsx("h2",{children:"My Properties"}),r.jsx("button",{onClick:()=>e.push("/properties/new"),className:l().addButton,children:"Add New Property"})]}),r.jsx("div",{className:l().propertyGrid,children:h.map(e=>(0,r.jsxs)("div",{className:l().propertyCard,children:[r.jsx("div",{className:l().propertyImage,children:r.jsx("img",{src:e.photos[0]||"/placeholder.jpg",alt:e.address})}),(0,r.jsxs)("div",{className:l().propertyInfo,children:[r.jsx("h3",{children:e.address}),(0,r.jsxs)("p",{children:[e.city,", ",e.state]}),(0,r.jsxs)("div",{className:l().propertyStats,children:[(0,r.jsxs)("span",{children:[e.spaceAvailable," sq ft"]}),r.jsx("span",{children:e.surfaceType})]}),r.jsx("div",{className:l().propertyPricing,children:(0,r.jsxs)("p",{children:["From $",e.pricing.hourly,"/hour"]})})]})]},e.id))})]}),"bookings"===b&&(0,r.jsxs)("div",{className:l().bookings,children:[r.jsx("h2",{children:"Bookings"}),r.jsx("div",{className:l().bookingsList,children:u.map(e=>(0,r.jsxs)("div",{className:l().bookingCard,children:[(0,r.jsxs)("div",{className:l().bookingHeader,children:[r.jsx("h3",{children:e.truckerName}),r.jsx("span",{className:l()[e.status],children:e.status})]}),(0,r.jsxs)("div",{className:l().bookingDetails,children:[(0,r.jsxs)("div",{children:[r.jsx("p",{children:"Dates"}),(0,r.jsxs)("p",{children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{children:"Vehicle"}),r.jsx("p",{children:e.vehicleType})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{children:"Amount"}),(0,r.jsxs)("p",{children:["$",e.totalAmount]})]})]}),(0,r.jsxs)("div",{className:l().bookingActions,children:[r.jsx("button",{onClick:()=>handleBookingAction(e.id,"approve"),className:l().approveButton,children:"Approve"}),r.jsx("button",{onClick:()=>handleBookingAction(e.id,"reject"),className:l().rejectButton,children:"Reject"})]})]},e.id))})]})]})]})}[c,n]=h.then?(await h)():h,a()}catch(e){a(e)}})},6764:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},3745:e=>{"use strict";e.exports=import("firebase/app")},401:e=>{"use strict";e.exports=import("firebase/auth")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},3392:e=>{"use strict";e.exports=import("firebase/storage")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[388,342],()=>s(1447));module.exports=a})();