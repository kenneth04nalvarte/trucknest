(()=>{var e={};e.id=33,e.ids=[33,888,660],e.modules={8065:()=>{throw Error('Module build failed (from ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js):\nCssSyntaxError\n\n(20:1) Selector ":global(.pac-container)" is not pure (pure selectors must contain at least one local class or id)\n\n \x1b[90m 18 | \x1b[39m\n \x1b[90m 19 | \x1b[39m\x1b[90m/* Google Places Autocomplete dropdown styles */\x1b[39m\n\x1b[1m\x1b[31m>\x1b[39m\x1b[22m\x1b[90m 20 | \x1b[39m\x1b[33m:\x1b[39m\x1b[36mglobal\x1b[39m\x1b[36m(.pac-container)\x1b[39m \x1b[33m{\x1b[39m\n \x1b[90m    | \x1b[39m\x1b[1m\x1b[31m^\x1b[39m\x1b[22m\n \x1b[90m 21 | \x1b[39m  border-radius\x1b[33m:\x1b[39m 6px\x1b[33m;\x1b[39m\n \x1b[90m 22 | \x1b[39m  border\x1b[33m:\x1b[39m 1px solid \x1b[35m#ddd\x1b[39m\x1b[33m;\x1b[39m\n')},797:e=>{e.exports={container:"SignupForms_container__RLKrv",progress:"SignupForms_progress__NcF0y",progressBar:"SignupForms_progressBar__EP4xi",form:"SignupForms_form__EImze",formSection:"SignupForms_formSection___GbS5",row:"SignupForms_row__bZIor",amenities:"SignupForms_amenities__6U7_s",checkboxGroup:"SignupForms_checkboxGroup__R6wZD",buttons:"SignupForms_buttons__ySN4Q",backButton:"SignupForms_backButton__iP7Uv",nextButton:"SignupForms_nextButton__QHrWk"}},2901:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{config:()=>h,default:()=>d,getServerSideProps:()=>b,getStaticPaths:()=>y,getStaticProps:()=>m,reportWebVitals:()=>x,routeModule:()=>f,unstable_getServerProps:()=>R,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>g});var s=t(7093),n=t(5244),o=t(1323),i=t(5388),l=t.n(i),u=t(2166),p=t(7828),c=e([u,p]);[u,p]=c.then?(await c)():c;let d=(0,o.l)(p,"default"),m=(0,o.l)(p,"getStaticProps"),y=(0,o.l)(p,"getStaticPaths"),b=(0,o.l)(p,"getServerSideProps"),h=(0,o.l)(p,"config"),x=(0,o.l)(p,"reportWebVitals"),g=(0,o.l)(p,"unstable_getStaticProps"),N=(0,o.l)(p,"unstable_getStaticPaths"),v=(0,o.l)(p,"unstable_getStaticParams"),R=(0,o.l)(p,"unstable_getServerProps"),C=(0,o.l)(p,"unstable_getServerSideProps"),f=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/signup/property-owner",pathname:"/signup/property-owner",bundlePath:"",filename:""},components:{App:u.default,Document:l()},userland:p});a()}catch(e){a(e)}})},7753:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(997),s=t(6689),n=t(4298),o=t.n(n),i=t(8065),l=t.n(i);function u({value:e,onChange:r,onSelect:t,placeholder:n="Enter address",required:i=!1,className:u="",error:p=!1}){let c=(0,s.useRef)(null),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(window.google&&c.current)return d.current=new window.google.maps.places.Autocomplete(c.current,{componentRestrictions:{country:"us"},fields:["address_components","formatted_address","geometry"]}),d.current.addListener("place_changed",()=>{let e=d.current.getPlace();if(!e.geometry){console.warn("No geometry found for the selected place");return}let r={streetNumber:"",streetName:"",city:"",state:"",zipCode:"",formatted:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};e.address_components.forEach(e=>{switch(e.types[0]){case"street_number":r.streetNumber=e.long_name;break;case"route":r.streetName=e.long_name;break;case"locality":r.city=e.long_name;break;case"administrative_area_level_1":r.state=e.short_name;break;case"postal_code":r.zipCode=e.long_name}}),t?.(r)}),()=>{d.current&&window.google.maps.event.clearInstanceListeners(d.current)}},[t]),(0,a.jsxs)(a.Fragment,{children:[a.jsx(o(),{src:`https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}&libraries=places`,strategy:"lazyOnload"}),a.jsx("input",{ref:c,type:"text",value:e,onChange:r,placeholder:n,required:i,className:`${l().input} ${p?l().error:""} ${u}`})]})}},11:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{H:()=>d,a:()=>c});var s=t(997),n=t(6689),o=t(648),i=t(401),l=t(1492),u=e([o,i,l]);[o,i,l]=u.then?(await u)():u;let p=(0,n.createContext)({}),c=()=>(0,n.useContext)(p),d=({children:e})=>{let[r,t]=(0,n.useState)(null),[a,u]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=(0,i.onAuthStateChanged)(o.I,async e=>{if(e){let r=(0,l.doc)(o.db,"users",e.uid),a=await (0,l.getDoc)(r);a.exists()?t({...e,...a.data()}):t(e)}else t(null);u(!1)});return()=>e()},[]),s.jsx(p.Provider,{value:{user:r,loading:a},children:!a&&e})};a()}catch(e){a(e)}})},648:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{I:()=>p,db:()=>c});var s=t(3745),n=t(401),o=t(1492),i=t(3392),l=e([s,n,o,i]);[s,n,o,i]=l.then?(await l)():l;let u=(0,s.initializeApp)({apiKey:"AIzaSyDHHi91_Y4X6VdqVlFoM-VFY2Gd8GIBr7M",authDomain:"trucknest-877c5.firebaseapp.com",projectId:"trucknest-877c5",storageBucket:"trucknest-877c5.firebasestorage.app",messagingSenderId:"594616293335",appId:"1:594616293335:web:ff9cf5ad981bb26f909d92"}),p=(0,n.getAuth)(u),c=(0,o.getFirestore)(u);(0,i.getStorage)(u),a()}catch(e){a(e)}})},2166:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>i});var s=t(997),n=t(11);t(6764);var o=e([n]);n=(o.then?(await o)():o)[0];let i=function({Component:e,pageProps:r}){return s.jsx(n.H,{children:s.jsx(e,{...r})})};a()}catch(e){a(e)}})},7828:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>m});var s=t(997),n=t(6689),o=t(1163),i=t(11),l=t(7753),u=t(797),p=t.n(u),c=t(30),d=e([i]);function m(){let e=(0,o.useRouter)(),{user:r,loading:t}=(0,i.a)(),[a,u]=(0,n.useState)(1),[d,m]=(0,n.useState)({}),[y,b]=(0,n.useState)(!1),[h,x]=(0,n.useState)({businessName:"",phoneNumber:"",address:"",city:"",state:"",zipCode:"",taxId:"",propertyAddress:"",propertyCity:"",propertyState:"",propertyZipCode:"",spaceAvailable:"",surfaceType:"",amenities:{lighting:!1,security:!1,cameras:!1,fencing:!1,restrooms:!1,waterSupply:!1},hourlyRate:"",dailyRate:"",weeklyRate:"",monthlyRate:"",accountHolder:"",accountNumber:"",routingNumber:"",bankName:"",businessCoordinates:{lat:0,lng:0},propertyCoordinates:{lat:0,lng:0}}),g=e=>{let r={};switch(e){case 1:h.businessName||(r.businessName=c.RZ.required),h.phoneNumber?(0,c.kj)(h.phoneNumber)||(r.phoneNumber=c.RZ.phone):r.phoneNumber=c.RZ.required,h.address||(r.address=c.RZ.required),h.city||(r.city=c.RZ.required),h.state||(r.state=c.RZ.required),h.zipCode?(0,c.h9)(h.zipCode)||(r.zipCode=c.RZ.zip):r.zipCode=c.RZ.required;break;case 2:h.propertyAddress||(r.propertyAddress=c.RZ.required),h.propertyCity||(r.propertyCity=c.RZ.required),h.propertyState||(r.propertyState=c.RZ.required),h.propertyZipCode?(0,c.h9)(h.propertyZipCode)||(r.propertyZipCode=c.RZ.zip):r.propertyZipCode=c.RZ.required,h.spaceAvailable||(r.spaceAvailable=c.RZ.required),h.surfaceType||(r.surfaceType=c.RZ.required);break;case 3:h.hourlyRate?(0,c.IQ)(h.hourlyRate)||(r.hourlyRate=c.RZ.price):r.hourlyRate=c.RZ.required,h.dailyRate?(0,c.IQ)(h.dailyRate)||(r.dailyRate=c.RZ.price):r.dailyRate=c.RZ.required,h.weeklyRate?(0,c.IQ)(h.weeklyRate)||(r.weeklyRate=c.RZ.price):r.weeklyRate=c.RZ.required,h.monthlyRate?(0,c.IQ)(h.monthlyRate)||(r.monthlyRate=c.RZ.price):r.monthlyRate=c.RZ.required;break;case 4:h.accountHolder||(r.accountHolder=c.RZ.required),h.accountNumber?(0,c.ic)(h.accountNumber)||(r.accountNumber=c.RZ.bankAccount):r.accountNumber=c.RZ.required,h.routingNumber?(0,c.$_)(h.routingNumber)||(r.routingNumber=c.RZ.routingNumber):r.routingNumber=c.RZ.required,h.bankName||(r.bankName=c.RZ.required)}return m(r),0===Object.keys(r).length},N=e=>{let{name:r,value:t,type:a,checked:s}=e.target;"checkbox"===a?x(e=>({...e,amenities:{...e.amenities,[r]:s}})):(x(e=>({...e,[r]:t})),d[r]&&m(e=>({...e,[r]:null})))},v=e=>{x(r=>({...r,address:`${e.streetNumber} ${e.streetName}`,city:e.city,state:e.state,zipCode:e.zipCode,businessCoordinates:{lat:e.lat,lng:e.lng}})),m(e=>({...e,address:null,city:null,state:null,zipCode:null}))},R=e=>{x(r=>({...r,propertyAddress:`${e.streetNumber} ${e.streetName}`,propertyCity:e.city,propertyState:e.state,propertyZipCode:e.zipCode,propertyCoordinates:{lat:e.lat,lng:e.lng}})),m(e=>({...e,propertyAddress:null,propertyCity:null,propertyState:null,propertyZipCode:null}))},C=async t=>{if(t.preventDefault(),g(a)){if(a<4)u(a+1);else{b(!0);try{if(!(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await r.getIdToken()}`},body:JSON.stringify({userId:r.uid,userData:{...h,email:r.email},role:"property-owner"})})).ok)throw Error("Registration failed");e.push("/dashboard/property-owner")}catch(e){console.error("Error submitting form:",e),m(e=>({...e,submit:"Failed to create profile. Please try again."}))}finally{b(!1)}}}},f=e=>d[e]?s.jsx("span",{className:p().error,children:d[e]}):null;return t||!r?s.jsx("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:p().container,children:[s.jsx("div",{className:p().progress,children:s.jsx("div",{className:p().progressBar,style:{width:`${a/4*100}%`}})}),(0,s.jsxs)("form",{onSubmit:C,className:p().form,children:[(()=>{switch(a){case 1:return(0,s.jsxs)("div",{className:p().formSection,children:[s.jsx("h2",{children:"Business Information"}),s.jsx("input",{type:"text",name:"businessName",placeholder:"Business Name",value:h.businessName,onChange:N,className:d.businessName?p().errorInput:"",required:!0}),f("businessName"),s.jsx("input",{type:"tel",name:"phoneNumber",placeholder:"Phone Number",value:h.phoneNumber,onChange:N,className:d.phoneNumber?p().errorInput:"",required:!0}),f("phoneNumber"),s.jsx(l.Z,{value:h.address,onChange:e=>N({target:{name:"address",value:e.target.value}}),onSelect:v,placeholder:"Enter business address",required:!0,error:!!d.address,className:p().addressInput}),f("address"),(0,s.jsxs)("div",{className:p().row,children:[s.jsx("input",{type:"text",name:"city",placeholder:"City",value:h.city,onChange:N,className:d.city?p().errorInput:"",required:!0,readOnly:!0}),f("city"),s.jsx("input",{type:"text",name:"state",placeholder:"State",value:h.state,onChange:N,className:d.state?p().errorInput:"",required:!0,readOnly:!0}),f("state"),s.jsx("input",{type:"text",name:"zipCode",placeholder:"ZIP Code",value:h.zipCode,onChange:N,className:d.zipCode?p().errorInput:"",required:!0,readOnly:!0}),f("zipCode")]}),s.jsx("input",{type:"text",name:"taxId",placeholder:"Tax ID (Optional)",value:h.taxId,onChange:N})]});case 2:return(0,s.jsxs)("div",{className:p().formSection,children:[s.jsx("h2",{children:"Property Details"}),s.jsx(l.Z,{value:h.propertyAddress,onChange:e=>N({target:{name:"propertyAddress",value:e.target.value}}),onSelect:R,placeholder:"Enter property address",required:!0,error:!!d.propertyAddress,className:p().addressInput}),f("propertyAddress"),(0,s.jsxs)("div",{className:p().row,children:[s.jsx("input",{type:"text",name:"propertyCity",placeholder:"City",value:h.propertyCity,onChange:N,className:d.propertyCity?p().errorInput:"",required:!0,readOnly:!0}),f("propertyCity"),s.jsx("input",{type:"text",name:"propertyState",placeholder:"State",value:h.propertyState,onChange:N,className:d.propertyState?p().errorInput:"",required:!0,readOnly:!0}),f("propertyState"),s.jsx("input",{type:"text",name:"propertyZipCode",placeholder:"ZIP Code",value:h.propertyZipCode,onChange:N,className:d.propertyZipCode?p().errorInput:"",required:!0,readOnly:!0}),f("propertyZipCode")]}),s.jsx("input",{type:"number",name:"spaceAvailable",placeholder:"Available Space (sq ft)",value:h.spaceAvailable,onChange:N,className:d.spaceAvailable?p().errorInput:"",required:!0}),f("spaceAvailable"),(0,s.jsxs)("select",{name:"surfaceType",value:h.surfaceType,onChange:N,className:d.surfaceType?p().errorInput:"",required:!0,children:[s.jsx("option",{value:"",children:"Select Surface Type"}),s.jsx("option",{value:"concrete",children:"Concrete"}),s.jsx("option",{value:"asphalt",children:"Asphalt"}),s.jsx("option",{value:"gravel",children:"Gravel"}),s.jsx("option",{value:"dirt",children:"Dirt"})]}),f("surfaceType"),(0,s.jsxs)("div",{className:p().amenities,children:[s.jsx("h3",{children:"Amenities"}),s.jsx("div",{className:p().checkboxGroup,children:Object.keys(h.amenities).map(e=>(0,s.jsxs)("label",{children:[s.jsx("input",{type:"checkbox",name:e,checked:h.amenities[e],onChange:N}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]})]});case 3:return(0,s.jsxs)("div",{className:p().formSection,children:[s.jsx("h2",{children:"Pricing"}),(0,s.jsxs)("div",{className:p().row,children:[s.jsx("input",{type:"number",name:"hourlyRate",placeholder:"Hourly Rate ($)",value:h.hourlyRate,onChange:N,className:d.hourlyRate?p().errorInput:"",required:!0}),f("hourlyRate"),s.jsx("input",{type:"number",name:"dailyRate",placeholder:"Daily Rate ($)",value:h.dailyRate,onChange:N,className:d.dailyRate?p().errorInput:"",required:!0}),f("dailyRate")]}),(0,s.jsxs)("div",{className:p().row,children:[s.jsx("input",{type:"number",name:"weeklyRate",placeholder:"Weekly Rate ($)",value:h.weeklyRate,onChange:N,className:d.weeklyRate?p().errorInput:"",required:!0}),f("weeklyRate"),s.jsx("input",{type:"number",name:"monthlyRate",placeholder:"Monthly Rate ($)",value:h.monthlyRate,onChange:N,className:d.monthlyRate?p().errorInput:"",required:!0}),f("monthlyRate")]})]});case 4:return(0,s.jsxs)("div",{className:p().formSection,children:[s.jsx("h2",{children:"Banking Information"}),s.jsx("input",{type:"text",name:"accountHolder",placeholder:"Account Holder Name",value:h.accountHolder,onChange:N,className:d.accountHolder?p().errorInput:"",required:!0}),f("accountHolder"),s.jsx("input",{type:"text",name:"accountNumber",placeholder:"Account Number",value:h.accountNumber,onChange:N,className:d.accountNumber?p().errorInput:"",required:!0}),f("accountNumber"),s.jsx("input",{type:"text",name:"routingNumber",placeholder:"Routing Number",value:h.routingNumber,onChange:N,className:d.routingNumber?p().errorInput:"",required:!0}),f("routingNumber"),s.jsx("input",{type:"text",name:"bankName",placeholder:"Bank Name",value:h.bankName,onChange:N,className:d.bankName?p().errorInput:"",required:!0}),f("bankName")]})}})(),d.submit&&s.jsx("div",{className:p().submitError,children:d.submit}),(0,s.jsxs)("div",{className:p().buttons,children:[a>1&&s.jsx("button",{type:"button",onClick:()=>u(a-1),className:p().backButton,disabled:y,children:"Back"}),s.jsx("button",{type:"submit",className:p().nextButton,disabled:y,children:y?"Processing...":4===a?"Submit":"Next"})]})]})]})}i=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},30:(e,r,t)=>{"use strict";t.d(r,{$_:()=>o,IQ:()=>u,IR:()=>i,RZ:()=>p,S6:()=>l,h9:()=>s,ic:()=>n,kj:()=>a});let a=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(e),s=e=>/^\d{5}(-\d{4})?$/.test(e),n=e=>/^\d{8,17}$/.test(e),o=e=>/^\d{9}$/.test(e),i=(e,r,t)=>e>0&&e<=100&&r>0&&r<=20&&t>0&&t<=20,l=e=>/^[A-Z0-9]{1,8}$/i.test(e),u=e=>!isNaN(e)&&parseFloat(e)>=0,p={required:"This field is required",phone:"Please enter a valid phone number",email:"Please enter a valid email address",zip:"Please enter a valid ZIP code",creditCard:"Please enter a valid credit card number",expiryDate:"Please enter a valid expiry date (MM/YY)",cvv:"Please enter a valid CVV",bankAccount:"Please enter a valid bank account number",routingNumber:"Please enter a valid routing number",dimensions:"Please enter valid dimensions",licensePlate:"Please enter a valid license plate number",price:"Please enter a valid price"}},6764:()=>{},4298:(e,r,t)=>{e.exports=t(3773)},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},3745:e=>{"use strict";e.exports=import("firebase/app")},401:e=>{"use strict";e.exports=import("firebase/auth")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},3392:e=>{"use strict";e.exports=import("firebase/storage")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[388,342],()=>t(2901));module.exports=a})();