(()=>{var e={};e.id=844,e.ids=[844,888,660],e.modules={8065:()=>{throw Error('Module build failed (from ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js):\nCssSyntaxError\n\n(20:1) Selector ":global(.pac-container)" is not pure (pure selectors must contain at least one local class or id)\n\n \x1b[90m 18 | \x1b[39m\n \x1b[90m 19 | \x1b[39m\x1b[90m/* Google Places Autocomplete dropdown styles */\x1b[39m\n\x1b[1m\x1b[31m>\x1b[39m\x1b[22m\x1b[90m 20 | \x1b[39m\x1b[33m:\x1b[39m\x1b[36mglobal\x1b[39m\x1b[36m(.pac-container)\x1b[39m \x1b[33m{\x1b[39m\n \x1b[90m    | \x1b[39m\x1b[1m\x1b[31m^\x1b[39m\x1b[22m\n \x1b[90m 21 | \x1b[39m  border-radius\x1b[33m:\x1b[39m 6px\x1b[33m;\x1b[39m\n \x1b[90m 22 | \x1b[39m  border\x1b[33m:\x1b[39m 1px solid \x1b[35m#ddd\x1b[39m\x1b[33m;\x1b[39m\n')},797:e=>{e.exports={container:"SignupForms_container__RLKrv",progress:"SignupForms_progress__NcF0y",progressBar:"SignupForms_progressBar__EP4xi",form:"SignupForms_form__EImze",formSection:"SignupForms_formSection___GbS5",row:"SignupForms_row__bZIor",amenities:"SignupForms_amenities__6U7_s",checkboxGroup:"SignupForms_checkboxGroup__R6wZD",buttons:"SignupForms_buttons__ySN4Q",backButton:"SignupForms_backButton__iP7Uv",nextButton:"SignupForms_nextButton__QHrWk"}},6054:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>d,getServerSideProps:()=>b,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>_,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>v});var a=r(7093),i=r(5244),n=r(1323),l=r(5388),c=r.n(l),o=r(2166),u=r(2194),m=e([o,u]);[o,u]=m.then?(await m)():m;let d=(0,n.l)(u,"default"),p=(0,n.l)(u,"getStaticProps"),h=(0,n.l)(u,"getStaticPaths"),b=(0,n.l)(u,"getServerSideProps"),x=(0,n.l)(u,"config"),g=(0,n.l)(u,"reportWebVitals"),v=(0,n.l)(u,"unstable_getStaticProps"),N=(0,n.l)(u,"unstable_getStaticPaths"),y=(0,n.l)(u,"unstable_getStaticParams"),f=(0,n.l)(u,"unstable_getServerProps"),j=(0,n.l)(u,"unstable_getServerSideProps"),_=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/signup/trucker",pathname:"/signup/trucker",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:u});s()}catch(e){s(e)}})},7753:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(997),a=r(6689),i=r(4298),n=r.n(i),l=r(8065),c=r.n(l);function o({value:e,onChange:t,onSelect:r,placeholder:i="Enter address",required:l=!1,className:o="",error:u=!1}){let m=(0,a.useRef)(null),d=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(window.google&&m.current)return d.current=new window.google.maps.places.Autocomplete(m.current,{componentRestrictions:{country:"us"},fields:["address_components","formatted_address","geometry"]}),d.current.addListener("place_changed",()=>{let e=d.current.getPlace();if(!e.geometry){console.warn("No geometry found for the selected place");return}let t={streetNumber:"",streetName:"",city:"",state:"",zipCode:"",formatted:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};e.address_components.forEach(e=>{switch(e.types[0]){case"street_number":t.streetNumber=e.long_name;break;case"route":t.streetName=e.long_name;break;case"locality":t.city=e.long_name;break;case"administrative_area_level_1":t.state=e.short_name;break;case"postal_code":t.zipCode=e.long_name}}),r?.(t)}),()=>{d.current&&window.google.maps.event.clearInstanceListeners(d.current)}},[r]),(0,s.jsxs)(s.Fragment,{children:[s.jsx(n(),{src:`https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}&libraries=places`,strategy:"lazyOnload"}),s.jsx("input",{ref:m,type:"text",value:e,onChange:t,placeholder:i,required:l,className:`${c().input} ${u?c().error:""} ${o}`})]})}},11:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{H:()=>d,a:()=>m});var a=r(997),i=r(6689),n=r(648),l=r(401),c=r(1492),o=e([n,l,c]);[n,l,c]=o.then?(await o)():o;let u=(0,i.createContext)({}),m=()=>(0,i.useContext)(u),d=({children:e})=>{let[t,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=(0,l.onAuthStateChanged)(n.I,async e=>{if(e){let t=(0,c.doc)(n.db,"users",e.uid),s=await (0,c.getDoc)(t);s.exists()?r({...e,...s.data()}):r(e)}else r(null);o(!1)});return()=>e()},[]),a.jsx(u.Provider,{value:{user:t,loading:s},children:!s&&e})};s()}catch(e){s(e)}})},648:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{I:()=>u,db:()=>m});var a=r(3745),i=r(401),n=r(1492),l=r(3392),c=e([a,i,n,l]);[a,i,n,l]=c.then?(await c)():c;let o=(0,a.initializeApp)({apiKey:"AIzaSyDHHi91_Y4X6VdqVlFoM-VFY2Gd8GIBr7M",authDomain:"trucknest-877c5.firebaseapp.com",projectId:"trucknest-877c5",storageBucket:"trucknest-877c5.firebasestorage.app",messagingSenderId:"594616293335",appId:"1:594616293335:web:ff9cf5ad981bb26f909d92"}),u=(0,i.getAuth)(o),m=(0,n.getFirestore)(o);(0,l.getStorage)(o),s()}catch(e){s(e)}})},2166:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>l});var a=r(997),i=r(11);r(6764);var n=e([i]);i=(n.then?(await n)():n)[0];let l=function({Component:e,pageProps:t}){return a.jsx(i.H,{children:a.jsx(e,{...t})})};s()}catch(e){s(e)}})},2194:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p});var a=r(997),i=r(6689),n=r(1163),l=r(11),c=r(7753),o=r(797),u=r.n(o),m=r(30),d=e([l]);function p(){let e=(0,n.useRouter)(),{user:t,loading:r}=(0,l.a)(),[s,o]=(0,i.useState)(1),[d,p]=(0,i.useState)({}),[h,b]=(0,i.useState)(!1),[x,g]=(0,i.useState)({firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",zipCode:"",companyName:"",vehicleType:"",vehicleLength:"",vehicleWidth:"",vehicleHeight:"",licensePlate:"",registrationNumber:"",driversLicense:"",commercialLicense:"",insuranceProvider:"",insurancePolicy:"",cardNumber:"",expiryDate:"",cvv:"",billingZip:"",isCommercial:!1,dotNumber:"",mcNumber:"",coordinates:{lat:0,lng:0}}),v=e=>{let t={};switch(e){case 1:x.firstName||(t.firstName=m.RZ.required),x.lastName||(t.lastName=m.RZ.required),x.phoneNumber?(0,m.kj)(x.phoneNumber)||(t.phoneNumber=m.RZ.phone):t.phoneNumber=m.RZ.required,x.address||(t.address=m.RZ.required),x.city||(t.city=m.RZ.required),x.state||(t.state=m.RZ.required),x.zipCode?(0,m.h9)(x.zipCode)||(t.zipCode=m.RZ.zip):t.zipCode=m.RZ.required;break;case 2:x.vehicleType||(t.vehicleType=m.RZ.required),x.licensePlate?(0,m.S6)(x.licensePlate)||(t.licensePlate=m.RZ.licensePlate):t.licensePlate=m.RZ.required,x.vehicleLength?(0,m.IR)(x.vehicleLength)||(t.vehicleLength=m.RZ.dimensions):t.vehicleLength=m.RZ.required,x.vehicleWidth?(0,m.IR)(x.vehicleWidth)||(t.vehicleWidth=m.RZ.dimensions):t.vehicleWidth=m.RZ.required,x.vehicleHeight?(0,m.IR)(x.vehicleHeight)||(t.vehicleHeight=m.RZ.dimensions):t.vehicleHeight=m.RZ.required;break;case 3:!x.companyName&&x.isCommercial&&(t.companyName=m.RZ.required),!x.dotNumber&&x.isCommercial&&(t.dotNumber=m.RZ.required),!x.mcNumber&&x.isCommercial&&(t.mcNumber=m.RZ.required)}return p(t),0===Object.keys(t).length},N=e=>{let{name:t,value:r,type:s,checked:a}=e.target;"checkbox"===s?g(e=>({...e,[t]:a})):(g(e=>({...e,[t]:r})),d[t]&&p(e=>({...e,[t]:null})))},y=async r=>{if(r.preventDefault(),v(s)){if(s<3)o(s+1);else{b(!0);try{if(!(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await t.getIdToken()}`},body:JSON.stringify({userId:t.uid,userData:{...x,email:t.email},role:"trucker"})})).ok)throw Error("Registration failed");e.push("/dashboard/trucker")}catch(e){console.error("Error submitting form:",e),p(e=>({...e,submit:"Failed to create profile. Please try again."}))}finally{b(!1)}}}},f=e=>d[e]?a.jsx("span",{className:u().error,children:d[e]}):null;return r?a.jsx("div",{children:"Loading..."}):t?(0,a.jsxs)("div",{className:u().container,children:[a.jsx("h1",{children:"Trucker Sign Up"}),a.jsx("div",{className:u().progressBar,children:a.jsx("div",{className:u().progress,style:{width:`${s/3*100}%`}})}),(0,a.jsxs)("form",{onSubmit:y,className:u().form,children:[1===s&&(0,a.jsxs)("div",{className:u().formSection,children:[a.jsx("h2",{children:"Personal Information"}),(0,a.jsxs)("div",{className:u().row,children:[(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:x.firstName,onChange:N,className:d.firstName?u().errorInput:""}),f("firstName")]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:x.lastName,onChange:N,className:d.lastName?u().errorInput:""}),f("lastName")]})]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"tel",name:"phoneNumber",placeholder:"Phone Number",value:x.phoneNumber,onChange:N,className:d.phoneNumber?u().errorInput:""}),f("phoneNumber")]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx(c.Z,{value:x.address,onChange:e=>N({target:{name:"address",value:e.target.value}}),onSelect:e=>{g(t=>({...t,address:`${e.streetNumber} ${e.streetName}`,city:e.city,state:e.state,zipCode:e.zipCode,coordinates:{lat:e.lat,lng:e.lng}})),p(e=>({...e,address:null,city:null,state:null,zipCode:null}))},placeholder:"Enter your address",error:!!d.address}),f("address")]})]}),2===s&&(0,a.jsxs)("div",{className:u().formSection,children:[a.jsx("h2",{children:"Vehicle Information"}),(0,a.jsxs)("div",{className:u().inputGroup,children:[(0,a.jsxs)("select",{name:"vehicleType",value:x.vehicleType,onChange:N,className:d.vehicleType?u().errorInput:"",children:[a.jsx("option",{value:"",children:"Select Vehicle Type"}),a.jsx("option",{value:"semi",children:"Semi-Truck"}),a.jsx("option",{value:"box",children:"Box Truck"}),a.jsx("option",{value:"van",children:"Van"})]}),f("vehicleType")]}),(0,a.jsxs)("div",{className:u().row,children:[(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"vehicleLength",placeholder:"Length (ft)",value:x.vehicleLength,onChange:N,className:d.vehicleLength?u().errorInput:""}),f("vehicleLength")]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"vehicleWidth",placeholder:"Width (ft)",value:x.vehicleWidth,onChange:N,className:d.vehicleWidth?u().errorInput:""}),f("vehicleWidth")]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"vehicleHeight",placeholder:"Height (ft)",value:x.vehicleHeight,onChange:N,className:d.vehicleHeight?u().errorInput:""}),f("vehicleHeight")]})]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"licensePlate",placeholder:"License Plate",value:x.licensePlate,onChange:N,className:d.licensePlate?u().errorInput:""}),f("licensePlate")]})]}),3===s&&(0,a.jsxs)("div",{className:u().formSection,children:[a.jsx("h2",{children:"Commercial Information"}),a.jsx("div",{className:u().checkboxGroup,children:(0,a.jsxs)("label",{children:[a.jsx("input",{type:"checkbox",name:"isCommercial",checked:x.isCommercial,onChange:N}),"This is a commercial vehicle"]})}),x.isCommercial&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"companyName",placeholder:"Company Name",value:x.companyName,onChange:N,className:d.companyName?u().errorInput:""}),f("companyName")]}),(0,a.jsxs)("div",{className:u().row,children:[(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"dotNumber",placeholder:"DOT Number",value:x.dotNumber,onChange:N,className:d.dotNumber?u().errorInput:""}),f("dotNumber")]}),(0,a.jsxs)("div",{className:u().inputGroup,children:[a.jsx("input",{type:"text",name:"mcNumber",placeholder:"MC Number",value:x.mcNumber,onChange:N,className:d.mcNumber?u().errorInput:""}),f("mcNumber")]})]})]})]}),(0,a.jsxs)("div",{className:u().buttonGroup,children:[s>1&&a.jsx("button",{type:"button",onClick:()=>o(s-1),className:u().secondaryButton,children:"Back"}),a.jsx("button",{type:"submit",className:u().primaryButton,disabled:h,children:3===s?h?"Creating Account...":"Create Account":"Next"})]}),d.submit&&a.jsx("div",{className:u().submitError,children:d.submit})]})]}):(e.push("/signin"),null)}l=(d.then?(await d)():d)[0],s()}catch(e){s(e)}})},30:(e,t,r)=>{"use strict";r.d(t,{$_:()=>n,IQ:()=>o,IR:()=>l,RZ:()=>u,S6:()=>c,h9:()=>a,ic:()=>i,kj:()=>s});let s=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(e),a=e=>/^\d{5}(-\d{4})?$/.test(e),i=e=>/^\d{8,17}$/.test(e),n=e=>/^\d{9}$/.test(e),l=(e,t,r)=>e>0&&e<=100&&t>0&&t<=20&&r>0&&r<=20,c=e=>/^[A-Z0-9]{1,8}$/i.test(e),o=e=>!isNaN(e)&&parseFloat(e)>=0,u={required:"This field is required",phone:"Please enter a valid phone number",email:"Please enter a valid email address",zip:"Please enter a valid ZIP code",creditCard:"Please enter a valid credit card number",expiryDate:"Please enter a valid expiry date (MM/YY)",cvv:"Please enter a valid CVV",bankAccount:"Please enter a valid bank account number",routingNumber:"Please enter a valid routing number",dimensions:"Please enter valid dimensions",licensePlate:"Please enter a valid license plate number",price:"Please enter a valid price"}},6764:()=>{},4298:(e,t,r)=>{e.exports=r(3773)},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},3745:e=>{"use strict";e.exports=import("firebase/app")},401:e=>{"use strict";e.exports=import("firebase/auth")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},3392:e=>{"use strict";e.exports=import("firebase/storage")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[388,342],()=>r(6054));module.exports=s})();